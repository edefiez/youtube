<!--
You are free to copy and use this sample in accordance with the terms of the
Apache license (http://www.apache.org/licenses/LICENSE-2.0.html)
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouTube ChromelessPlayer API Sample</title>

<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="vendor/slider/css/slider.css" rel="stylesheet">

<script src="vendor/jquery/jquery-1.10.2.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="vendor/slider/js/bootstrap-slider.js"></script>

<script src="//www.google.com/jsapi" type="text/javascript"></script>
<script type="text/javascript">
	google.load("swfobject", "2.1");
</script>    

<script type="text/javascript">
	/*
	 * Chromeless player has no controls.
	 */
	
	// Update a particular HTML element with a new value
	function updateHTML(elmId, value) {
		document.getElementById(elmId).innerHTML = value;
	}
	
	// This function is called when an error is thrown by the player
	function onPlayerError(errorCode) {
		alert("An error occured of type:" + errorCode);
	}
	
	// This function is called when the player changes state
	function onPlayerStateChange(newState) {
		updateHTML("playerState", newState);
	}
	
	// Display information about the current state of the player
	function updatePlayerInfo() {
		// Also check that at least one function exists since when IE unloads the
		// page, it will destroy the SWF before clearing the interval.
		if(ytplayer && ytplayer.getDuration) {
			$("#videoDuration").html(ytplayer.getDuration());
			$("#videoCurrentTime").html(ytplayer.getCurrentTime());
			$("#bytesTotal").html(ytplayer.getVideoBytesTotal());
			$("#startBytes").html(ytplayer.getVideoStartBytes());
			$("#bytesLoaded").html(ytplayer.getVideoBytesLoaded());
			$("#volume").html(ytplayer.getVolume());
		}
	}
	
	// Allow the user to set the volume from 0-100
	function setVideoVolume() {
		var volume = parseInt($("#volumeSetting").data('slider-value'));
		if(isNaN(volume) || volume < 0 || volume > 100) {
			alert("Please enter a valid volume between 0 and 100.");
		}
		else if(ytplayer){
			ytplayer.setVolume(volume);
		}
	}
	
	function playVideo() {
		$("#btn-play").removeClass('btn-default');
		$("#btn-pause").removeClass('btn-warning');
		$("#btn-play").addClass('btn-primary');
		$("#btn-pause").addClass('btn-default');
		if (ytplayer) {
			ytplayer.playVideo();
		}
	}
	
	function pauseVideo() {
		$("#btn-pause").removeClass('btn-default');
		$("#btn-play").removeClass('btn-primary');
		$("#btn-pause").addClass('btn-warning');
		$("#btn-play").addClass('btn-default');
		if (ytplayer) {
			ytplayer.pauseVideo();
		}
	}
	
	function muteVideo() {
		$("#btn-mute").removeClass('btn-default');
		$("#btn-unmute").removeClass('btn-primary');
		$("#btn-mute").addClass('btn-warning');
		$("#btn-unmute").addClass('btn-default');
		if(ytplayer) {
			ytplayer.mute();
		}
	}
	
	function unMuteVideo() {
		$("#btn-unmute").removeClass('btn-default');
		$("#btn-mute").removeClass('btn-warning');
		$("#btn-unmute").addClass('btn-primary');
		$("#btn-mute").addClass('btn-default');
		if(ytplayer) {
			ytplayer.unMute();
		}
	}
	
	
	// This function is automatically called by the player once it loads
	function onYouTubePlayerReady(playerId) {
		ytplayer = document.getElementById("ytPlayer");
		// This causes the updatePlayerInfo function to be called every 250ms to
		// get fresh data from the player
		setVideoVolume()
		setInterval(updatePlayerInfo, 250);
	        updatePlayerInfo();
	
		ytplayer.addEventListener("onStateChange", "onPlayerStateChange");
		ytplayer.addEventListener("onError", "onPlayerError");
		//Load an initial video into the player
//		ytplayer.loadVideoById("cyTDjPERnZQ");
		ytplayer.loadPlaylist(["q2GC_5Ax08Q","OIBzjTiGyjs"]);
//		ytplayer.cueVideoById(["cyTDjPERnZQ","scXgbVaUhv4"]);
	}
	
	// The "main method" of this sample. Called when someone clicks "Run".
	function loadPlayer() {
		// Lets Flash from another domain call JavaScript
		var params = { allowScriptAccess: "always" };
		// The element id of the Flash embed
		var atts = { id: "ytPlayer" };
		// All of the magic handled by SWFObject (http://code.google.com/p/swfobject/)
		swfobject.embedSWF("http://www.youtube.com/apiplayer?" +
			 "version=3&enablejsapi=1&playerapiid=player1", 
			 "player_content", "480", "295", "9", null, null, params, atts);
	}
	$(document).ready(function() {
		$('.slider').slider().on('slideStop', function(ev) {
			$('.slider').data('slider-value', ev.value);
			unMuteVideo();
			setVideoVolume();
		});
		google.setOnLoadCallback(loadPlayer);
	});
</script>
</head>
<body>
<div class="container">
	<div class='col-lg-12' style="margin: 25px 0px 25px;">
		<img src="public/images/logo.png" width="200px" height="100px" class="img-thumbnail" />
	</div>
	<div id='videoInfo' class="col-lg-5">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title">Youtube Chromeless controls</h3>
			</div>
			<div class="panel-body">
				<p>Player state: <span id="playerState" class='label label-primary'>--</span></p>
				<p>Current Time: <span id="videoCurrentTime" class='label label-success'>--:--</span></p>
				<p>Duration: <span id="videoDuration">--:--</span></p>
				<p>Bytes Total: <span id="bytesTotal">--</span> | Start Bytes: <span id="startBytes">--</span> | Bytes Loaded: <span id="bytesLoaded" class='label label-default'>--</span></p>
				<p>&nbsp;</p>
				<p>
					<div class="btn-group"> 
						<a id='btn-play' href="javascript:void(0);" onclick="playVideo();" class="btn btn-primary"><span class="glyphicon glyphicon-play"></span></a> 
						<a id='btn-pause' href="javascript:void(0);" onclick="pauseVideo();" class="btn btn-default"><span class="glyphicon glyphicon-pause"></span></a> 
					</div>
					<div class="btn-group"> 
						<a id='btn-unmute' href="javascript:void(0);" onclick="unMuteVideo();" class="btn btn-primary"><span class="glyphicon glyphicon-volume-up"></span></a>
						<a id='btn-mute' href="javascript:void(0);" onclick="muteVideo();"  class="btn btn-default"><span class="glyphicon glyphicon-volume-off"></span></a> 
					</div>
				</p>
				<p>
					Volume : 
					<input id="volumeSetting" type="text" class="slider" value="" data-slider-min="0" data-slider-max="100" data-slider-step="1" 
						data-slider-value="20" data-slider-orientation="horizontal" data-slider-selection="after" data-slider-tooltip="hide	w ">
					<span id="volume" class='label label-info'>--</span>
				</p>
			</div>
		</div>
	</div>
	<div class="col-lg-7">
		<div id="player_content">Loading...</div>
	</div>
</div>
</body>
</html>
â€‹